{% extends "base.html" %}
{% block title %}Your chats{% endblock %}
{% block content %}
<div class="mx-auto mt-4" style="max-width: 900px;">
    <div class="card shadow-sm">
        <div class="card-body d-flex justify-content-between align-items-center">
            <h2 class="m-0">Your chats</h2>
            <a href="{{ url_for('new_chat') }}" class="btn btn-primary">
                <i class="bi bi-plus-lg"></i> New chat
            </a>
        </div>

        {% if conversations and conversations|length %}
        <ul class="list-group list-group-flush">
            {% for c in conversations %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div class="text-truncate" style="max-width: 70%;">
                    <a class="fw-semibold text-decoration-none" href="{{ url_for('chat', conversation_id=c.id) }}">
                        {{ c.title }}
                    </a>
                </div>
                <span class="badge text-bg-light">{{ c.created_at.strftime('%Y-%m-%d %H:%M') }}</span>
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <div class="card-body text-center text-muted">
            <p class="mb-0">No chats yet. Click <strong>New chat</strong> to start one!</p>
        </div>
        {% endif %}

        <div class="card-footer bg-white">
            <a href="{{ url_for('dashboard') }}" class="btn btn-outline-secondary">‚Üê Back to dashboard</a>
        </div>
    </div>
</div>
{% endblock %}
